function addRemainingArtists(a,b,c,d){$.getJSON(d,{csrfmiddlewaretoken:"{{csrf_token"},function(d){var e=d.artists_with_image;$.each(e,function(b,c){$("<li></li>").append($("<a></a>",{href:"/artists/"+c.slug}).append($("<figure></figure>",{class:"single-thumb"}).append($("<img></img>",{src:c.image,height:200,width:200}),$("<figcaption></figcaption>",{text:c.name})))).appendTo(a)}),b.hide(),c.show()})}function addRemainingArtistSenseExamples(a,b,c,d){$.getJSON(d,{csrfmiddlewaretoken:"{{csrf_token}}"},function(d){var e=d.senses;$("#artist_slug").text();$.each(e,function(b,c){var d=$("<li></li>",{class:"trr-list-group-item"}).append($("<div></div>").append($("<strong></strong>").append($("<a></a>",{href:"/"+c.slug+"#"+c.xml_id,text:c.headword}))));$.each(c.examples,function(a,b){if(d.append("<div></div>").append($("<span></span>",{class:"date",text:b.release_date_string}),$("<span></span>",{class:"artist"}).append($("<a></a>",{href:"/artists/"+b.artist_slug,text:b.artist_name})),$("<span></span>",{class:"songTitle"}).append($("<a></a>",{href:"/songs/"+b.song_slug,text:'"'+b.song_title+'"'}))),b.featured_artists.length>0){d.append('<span class="comma"> feat. </span>');var c=[],e=b.featured_artists.pop();$.each(b.featured_artists,function(a,b){c.push($("<span></span>",{class:"artist"}).append($("<a></a>",{href:"/artists/"+b.slug,text:b.name}),$("<span></span>",{class:"comma",text:","})))}),c.push($("<span></span>",{class:"artist"}).append($("<a></a>",{href:"/artists/"+e.slug,text:e.name}))),d.append(c)}d.append($("<span></span>",{class:"album",text:"["+b.album+"]"}),$('<div class="lyric">'+b.linked_lyric+"</div>"))}),d.appendTo(a)}),b.hide(),c.show(),add_tweet()})}function addRemainingExamples(a,b,c,d){$.getJSON(d,{csrfmiddlewaretoken:"{{csrf_token}}"},function(d){var e=d.examples;$("#entry_slug").text();$.each(e,function(b,c){var d=$("<li></li>").append($("<span></span>",{class:"date",text:c.release_date_string}),$("<span></span>",{class:"artist"}).append($("<a></a>",{href:"/artists/"+c.artist_slug,text:c.artist_name})),$("<span></span>",{class:"songTitle"}).append($("<a></a>",{href:"/songs/"+c.song_slug,text:'"'+c.song_title+'"'})));if(c.featured_artists.length>0){d.append('<span class="comma"> feat. </span>');var e=[],f=c.featured_artists.pop();$.each(c.featured_artists,function(a,b){e.push($("<span></span>",{class:"artist"}).append($("<a></a>",{href:"/artists/"+b.slug,text:b.name}),$("<span></span>",{class:"comma",text:","})))}),e.push($("<span></span>",{class:"artist"}).append($("<a></a>",{href:"/artists/"+f.slug,text:f.name}))),d.append(e)}d.append($("<span></span>",{class:"album",text:"["+c.album+"]"}),$('<div class="lyric">'+c.linked_lyric+"</div>")),d.appendTo(a)}),b.hide(),c.show(),add_tweet()})}function add_tweet(){$("a.tweet").click(function(a){a.preventDefault();var b=$(this).attr("href"),c=encodeURIComponent($(this).attr("title"));window.open("https://twitter.com/share?url="+b+"&text="+c+"&via=theRightRhymes&","twitterwindow","height=450, width=550, top="+($(window).height()/2-225)+", left="+$(window).width()/2+", toolbar=0, location=0, menubar=0, directories=0, scrollbars=0")})}$(document).ready(function(){$(".toggle_more_exx").click(function(){$(this).parent().next(".examples").slideToggle("fast");var a=$(this).parent().find(".loading"),b=$(this);if("Hide more examples"==$(this).text())$(this).text("Show more examples"),$(this).css("background-color","#838383");else{$(this).text("Hide more examples"),$(this).css("background-color","lightgray");var c=$(this).parent().find(".sense_id").text(),d=$(this).parent().find(".artist_slug").text(),e=$(this).parent().find(".place_slug").text(),f=$(this).parent().find(".place_example_slug").text(),g=$(this).parent().find(".feat").text(),h=$(this).parent().next(".examples");if(0==h.children().length)if(b.hide(),a.show(),""!=d){var i="/data/artists/"+d+"/sense_examples";"True"==g&&(i+="?feat=True"),addRemainingArtistSenseExamples(h,a,b,i)}else if(""!=e){var i="/data/places/"+e+"/artists/";addRemainingArtists(h,a,b,i)}else if(""!=f){var i="/data/places/"+f+"/remaining_examples/";addRemainingExamples(h,a,b,i)}else{var i="/data/senses/"+c+"/remaining_examples/";addRemainingExamples(h,a,b,i)}}return!1})}),$(".toggle").click(function(){var a=$(this).find(".the-list"),b=a.clone(!0),c=$(this).nextAll(".placeholder:first");c.addClass("placeholder-background"),c.html(b),c.find(".the-list").toggle(100)}),$(".toggle-artist-examples").click(function(){var a=$(this).parent().find(".loading"),b=$(this).parent().nextAll(".artist-examples:first"),c=$(this).parent().find(".sense_id").text(),d=$(this).parent().find(".artist_slug").text(),e=$(this).parent().nextAll(".artist-examples:first");e.fadeOut(100,function(){e.empty(),addRemainingExamples(e,a,b,"/senses/"+c+"/"+d+"/json")})});