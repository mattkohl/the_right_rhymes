function addRemainingArtists(t,e,a,s){$.getJSON(s,{csrfmiddlewaretoken:"{{csrf_token"},function(s){var n=s.artists_with_image;$.each(n,function(e,a){$("<li></li>").append($("<a></a>",{href:"/artists/"+a.slug}).append($("<figure></figure>",{class:"single-thumb"}).append($("<img></img>",{src:a.image,height:200,width:200}),$("<figcaption></figcaption>",{text:a.name})))).appendTo(t)}),e.hide(),a.show()})}function addRemainingArtistSenseExamples(t,e,a,s){$.getJSON(s,{csrfmiddlewaretoken:"{{csrf_token}}"},function(s){var n=s.senses;$("#artist_slug").text();$.each(n,function(e,a){var s=$("<li></li>",{class:"trr-list-group-item"}).append($("<div></div>").append($("<strong></strong>").append($("<a></a>",{href:"/"+a.slug+"#"+a.xml_id,text:a.headword}))));$.each(a.examples,function(t,e){if(s.append("<div></div>").append($("<span></span>",{class:"date",text:e.release_date_string}),$("<span></span>",{class:"artist"}).append($("<a></a>",{href:"/artists/"+e.artist_slug,text:e.artist_name})),$("<span></span>",{class:"songTitle"}).append($("<a></a>",{href:"/songs/"+e.song_slug,text:'"'+e.song_title+'"'}))),e.featured_artists.length>0){s.append('<span class="comma"> feat. </span>');var a=[],n=e.featured_artists.pop();$.each(e.featured_artists,function(t,e){a.push($("<span></span>",{class:"artist"}).append($("<a></a>",{href:"/artists/"+e.slug,text:e.name}),$("<span></span>",{class:"comma",text:","})))}),a.push($("<span></span>",{class:"artist"}).append($("<a></a>",{href:"/artists/"+n.slug,text:n.name}))),s.append(a)}s.append($("<span></span>",{class:"album",text:"["+e.album+"]"})),null!=e.spot_link&&s.append($("<a></a>",{href:e.spot_link,target:"_blank"})),s.append($('<div class="lyric">'+e.linked_lyric+"</div>"))}),s.appendTo(t)}),e.hide(),a.show(),add_tweet()})}function addRemainingExamples(t,e,a,s){$.getJSON(s,{csrfmiddlewaretoken:"{{csrf_token}}"},function(s){var n=s.examples;$("#entry_slug").text();$.each(n,function(e,a){var s=$("<li></li>").append($("<span></span>",{class:"date",text:a.release_date_string}),$("<span></span>",{class:"artist"}).append($("<a></a>",{href:"/artists/"+a.artist_slug,text:a.artist_name})),$("<span></span>",{class:"songTitle"}).append($("<a></a>",{href:"/songs/"+a.song_slug,text:'"'+a.song_title+'"'})));if(a.featured_artists.length>0){s.append('<span class="comma"> feat. </span>');var n=[],i=a.featured_artists.pop();$.each(a.featured_artists,function(t,e){n.push($("<span></span>",{class:"artist"}).append($("<a></a>",{href:"/artists/"+e.slug,text:e.name}),$("<span></span>",{class:"comma",text:","})))}),n.push($("<span></span>",{class:"artist"}).append($("<a></a>",{href:"/artists/"+i.slug,text:i.name}))),s.append(n)}s.append($("<span></span>",{class:"album",text:"["+a.album+"]"})),null!=a.spot_link&&s.append($("<a></a>",{class:"spotify",href:a.spot_link,target:"_blank"})),s.append($('<div class="lyric">'+a.linked_lyric+"</div>")),s.appendTo(t)}),e.hide(),a.show(),add_tweet()})}function add_tweet(){$("a.tweet").click(function(t){t.preventDefault();var e=$(this).attr("href"),a=encodeURIComponent($(this).attr("title"));window.open("https://twitter.com/share?url="+e+"&text="+a+"&via=theRightRhymes&","twitterwindow","height=450, width=550, top="+($(window).height()/2-225)+", left="+$(window).width()/2+", toolbar=0, location=0, menubar=0, directories=0, scrollbars=0")})}$(document).ready(function(){$(".toggle_more_exx").click(function(){$(this).parent().next(".examples").slideToggle("fast");var t=$(this).parent().find(".loading"),e=$(this);if("Hide more examples"==$(this).text())$(this).text("Show more examples"),$(this).css("background-color","#838383");else{$(this).text("Hide more examples"),$(this).css("background-color","lightgray");var a=$(this).parent().find(".sense_id").text(),s=$(this).parent().find(".artist_slug").text(),n=$(this).parent().find(".place_slug").text(),i=$(this).parent().find(".place_example_slug").text(),p=$(this).parent().find(".feat").text(),r=$(this).parent().next(".examples");if(0==r.children().length)if(e.hide(),t.show(),""!=s){var l="/data/artists/"+s+"/sense_examples";"True"==p&&(l+="?feat=True"),addRemainingArtistSenseExamples(r,t,e,l)}else if(""!=n){addRemainingArtists(r,t,e,l="/data/places/"+n+"/artists/")}else if(""!=i){addRemainingExamples(r,t,e,l="/data/places/"+i+"/remaining_examples/")}else{addRemainingExamples(r,t,e,l="/data/senses/"+a+"/remaining_examples/")}}return!1})}),$(".toggle").click(function(){var t=$(this).find(".the-list").clone(!0),e=$(this).nextAll(".placeholder:first");e.addClass("placeholder-background"),e.html(t),e.find(".the-list").toggle(100)}),$(".toggle-artist-examples").click(function(){var t=$(this).parent().find(".loading"),e=$(this).parent().nextAll(".artist-examples:first"),a=$(this).parent().find(".sense_id").text(),s=$(this).parent().find(".artist_slug").text(),n=$(this).parent().nextAll(".artist-examples:first");n.fadeOut(100,function(){n.empty(),addRemainingExamples(n,t,e,"/senses/"+a+"/"+s+"/json")})});